<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>playground</title>
</head>
<body>

<script src="struct.js"></script>
<script>

    ~function () {
        function countTime(handle, name) {
            let timeStart = new Date();
            handle();
            let timeEnd = new Date();
            console.log(`time ${name} sub: ${(timeEnd - timeStart)}`);
        }
    }();

    ~function () {

        var longestPalindrome = function (s) {
            function DecArray(x, y) {
                let vector = [];
                for (let i = 0; i < x; i++)
                    vector[i] = new Array(y).fill(0);
                return vector;
            }

            let ori = s;
            let res = Array.prototype.slice.call(s).reverse().join('');
            let len = s.length;
            let vector = new DecArray(len, len);
            let max = 0;
            let end = 0;

            for (let i = 0; i < len; i++) {
                for (let j = 0; j < len; j++) {
                    if (ori[i] === res[j]) {
                        if (i === 0 || j === 0) {
                            vector[i][j] = 1;
                        } else {
                            vector[i][j] = vector[i - 1][j - 1] + 1;
                        }
                    }

                    if (vector[i][j] > max) {
                        max = vector[i][j];
                        end = i;
                    }
                }
                console.log(vector.join('\n'));
            }

            console.log(vector);

            return s.substring(end - max + 1, max);
        };


        // 1 3 3 6 6 6 6
        // 0 1 1 2 2 2 2 3 3 3 3 3 3 3 3

        var solveSudoku = function (board) {
            const isValid = (row, col, num) => {
                for (let i = 0; i < 9; i++) {
                    let boxRow = Math.floor(row / 3) * 3;
                    let boxCol = Math.floor(col / 3) * 3;
                    if (board[row][i] === num ||
                        board[i][col] === num ||
                        board[boxRow + Math.floor(i / 3)][boxCol + i % 3] === num) {
                        return false;
                    }
                }
                return true;
            }

            const solve = () => {
                for (let i = 0; i < 9; i++) {
                    for (let j = 0; j < 9; j++) {
                        if (board[i][j] === '.') {
                            let char = 1;
                            while (char <= 9) {
                                let result = isValid(i, j, char.toString());
                                if (result) {
                                    board[i][j] = char.toString();
                                    if (solve()) {
                                        return true;
                                    } else {
                                        board[i][j] = '.';
                                    }
                                }
                                char++;
                            }
                            return false;
                        }
                    }
                }

                return true;
            };


            solve();

            return board;
        };

        // var solveSudoku = function(board) {
        //     let isValid = (row,col,num) => {
        //         for(let i = 0;i < 9;i++){
        //             let boxRow = parseInt(row/3)*3;
        //             let boxCol = parseInt(col/3)*3;
        //             if(board[row][i] == num || board[i][col] == num || board[boxRow+parseInt(i/3)][boxCol+i%3] == num){
        //                 return false;
        //             }
        //         }
        //         return true;
        //     }
        //     let solve = () => {
        //         for(let i = 0;i < 9;i++){
        //             for(let j = 0;j < 9;j++){
        //                 if(board[i][j] === '.'){
        //                     for(let num = 1;num <10;num++){
        //                         if(isValid(i,j,num)){
        //                             board[i][j] = String(num);
        //                             if(solve()){
        //                                 return true;
        //                             }
        //                             board[i][j] = '.';
        //                         }
        //                     }
        //                     return false;
        //                 }
        //             }
        //         }
        //         return true;
        //     }
        //     solve();
        //     return board;
        // };

        let std = [
            ['5', '3', '.', '.', '7', '.', '.', '.', '.'],
            ['6', '.', '.', '1', '9', '5', '.', '.', '.'],
            ['.', '9', '8', '.', '.', '.', '.', '6', '.'],
            ['8', '.', '.', '.', '6', '.', '.', '.', '3'],
            ['4', '.', '.', '8', '.', '3', '.', '.', '1'],
            ['7', '.', '.', '.', '2', '.', '.', '.', '6'],
            ['.', '6', '.', '.', '.', '.', '2', '8', '.'],
            ['.', '.', '.', '4', '1', '9', '.', '.', '5'],
            ['.', '.', '.', '.', '8', '.', '.', '7', '9']
        ]

        let result = solveSudoku(std);

        console.log(result);

    }();

</script>
</body>
</html>